/* ============================================================
   UI / Layout
   ============================================================ */
* { box-sizing: border-box; margin: 0; padding: 0; }

html, body {
    height: 100%;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    font-size: 14px;
    color: #111;
    background-image: url('../assets/images/background.png');
    background-position: center;
    background-size: cover;
    background-attachment: fixed;
}

.game-viewport {
    position: relative;
    /* center the viewport, keep it wide but constrained for large screens */
    width: min(1120px, 80%);
    margin: 0 auto;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

/* Canvas: gameplay only */
#gameCanvas {
    position: relative;
    width: 480px;
    height: 800px;
    max-width: 96vw;
    max-height: 96vh;
    background: transparent;
    border-radius: 10px;
    box-shadow: 0 24px 60px rgba(0,0,0,0.35);
    image-rendering: crisp-edges; /* improve scaled rendering */
}

/* UI overlay */
.ui-overlay { position: absolute; inset: 0; pointer-events: none; display:flex; justify-content:center; align-items:flex-start; padding-top:18px; z-index:10; }
.ui-header { pointer-events: auto; backdrop-filter: blur(8px); background: rgba(0,0,0,0.28); padding:16px 20px; border-radius:14px; box-shadow:0 12px 36px rgba(0,0,0,0.28); max-width:520px; margin: 0 auto; text-align:center; }
.game-title { color:#fff; font-size:22px; font-weight:700; margin-bottom:12px; }
.stats-bar { display:flex; gap:12px; flex-wrap:wrap; justify-content:center; }
.stat-card { background: #fff; border-radius:10px; padding:10px 14px; min-width:70px; box-shadow:0 6px 20px rgba(0,0,0,0.12); pointer-events:auto; }
.stat-label { font-size:12px; color:#666; font-weight:600; text-transform:uppercase; letter-spacing:0.5px; margin-bottom:6px; }
.stat-value { font-family: 'Courier New', Courier, monospace; font-size:18px; color:#111; font-weight:700; }

/* Game over modal */
.game-over-modal { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,0.6); backdrop-filter: blur(4px); z-index:1000; }
.game-over-content { background:#fff; border-radius:14px; padding:32px; width:320px; text-align:center; box-shadow:0 24px 60px rgba(0,0,0,0.35); }
.game-over-content h2 { font-size:42px; margin-bottom:12px; color:#111; }
.final-score { color:#666; margin-bottom:18px; }
.restart-btn { pointer-events:auto; background:linear-gradient(135deg,#4d79bc,#3d5fa8); border:none; color:#fff; padding:12px 24px; border-radius:8px; font-weight:700; cursor:pointer; }

/* Pause modal uses same layout as game-over but smaller on wide screens */
#pauseModal .game-over-content { width:340px; }
#pauseModal .restart-btn { padding:10px 16px; }

/* Leaderboard sidebar */
.side-panel { display:none; position:absolute; right:8px; top:50%; transform:translateY(-50%); width:260px; background:rgba(255,255,255,0.96); border-radius:12px; padding:18px; box-shadow:0 18px 48px rgba(0,0,0,0.18); z-index:20; }
.side-panel h2 { font-size:16px; margin-bottom:10px; }
#leaderboardList { list-style:none; max-height:70vh; overflow:auto; }
#leaderboardList li { font-family:'Courier New', Courier, monospace; font-size:12px; padding:8px 0; border-bottom:1px solid rgba(0,0,0,0.05); }

/* Highscore popup (fallback) */
.highscore-popup { background:#fff; border-radius:12px; padding:24px; box-shadow:0 18px 48px rgba(0,0,0,0.35); z-index:10001; position:fixed; left:50%; top:50%; transform:translate(-50%,-50%); width:320px; text-align:center; }
.highscore-popup input { font-family:'Courier New', Courier, monospace; }

@media (min-width:900px) { .side-panel { display:block; } }
