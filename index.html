<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <title>Catch Your Mess! (亂丟樂)</title>
  <link rel="icon" type="image/x-icon" href="assets/images/icon.ico">
  <link rel="stylesheet" href="styles/style.css">
</head>
<body>
  <div class="game-container">
    <!-- Pause/ESC Button -->
    <button class="pause-btn" id="pauseBtn" aria-label="Pause Game">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="6" y="4" width="4" height="16" fill="currentColor" rx="1"/>
        <rect x="14" y="4" width="4" height="16" fill="currentColor" rx="1"/>
      </svg>
      <span class="pause-text">ESC</span>
    </button>

    <!-- Leaderboard Toggle Button -->
    <button class="leaderboard-toggle-btn" id="leaderboardToggleBtn" aria-label="Toggle Leaderboard">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
      <span class="leaderboard-text">Top 10</span>
    </button>

    <!-- Paper Mario-style Score Display -->
    <div class="score-display" id="scoreDisplay">
      <div class="score-label">SCORE</div>
      <div class="score-value" id="scoreValue">0</div>
    </div>

    <div class="game-viewport">
      <canvas id="gameCanvas" aria-label="Catch your mess game"></canvas>

      <!-- UI overlay (HTML/CSS) -- stats, title, game over -->
      <div class="ui-overlay" aria-hidden="false">
        <!-- <header class="ui-header">
          <h1 class="game-title">Catch Your Mess!</h1>
          <div class="stats-bar">
            <div class="stat-card">
              <div class="stat-label">Score</div>
              <div class="stat-value" id="uiScore">0</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Level</div>
              <div class="stat-value" id="uiLevel">1</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Bombs</div>
              <div class="stat-value" id="uiBombs">0/3</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Speed</div>
              <div class="stat-value" id="uiSpeed">1.00</div>
            </div>
          </div>
        </header> -->

        <!-- Game over modal -->
        <div id="gameOverModal" class="game-over-modal" style="display:none;">
          <div class="game-over-content">
            <h2>GAME OVER</h2>
            <p class="final-score">Final Score: <span id="finalScore">0</span></p>
            <button class="restart-btn" id="restartBtn">Play Again</button>
          </div>
        </div>

        <!-- Pause modal (ESC to open) -->
        <div id="pauseModal" class="game-over-modal" style="display:none;">
          <div class="game-over-content">
            <h2>PAUSED</h2>
            <p class="final-score">Game is paused</p>
            <div style="display:flex; gap:12px; justify-content:center;">
              <button class="restart-btn" id="continueBtn">Continue</button>
              <button class="restart-btn" id="resetBtn">Reset</button>
              <button class="restart-btn" id="quitBtn">Quit</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Leaderboard panel -->
      <div class="side-panel leaderboard-panel" id="leaderboardPanel" aria-hidden="true">
        <h2>Top 10</h2>
        <ol id="leaderboardList">
          <!-- Leaderboard entries will be injected here -->
        </ol>
      </div>

      <!-- Ayiee Character Popup -->
      <div class="ayiee-popup" id="ayieePopup">
        <div class="ayiee-character">
          <img src="assets/images/ayiee.png" alt="Ayiee" class="ayiee-image">
        </div>
        <div class="ayiee-dialogue" id="ayieeDialogue">
          <div class="dialogue-arrow"></div>
          <p class="dialogue-text" id="dialogueText">Welcome to Catch Your Mess!</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Firebase SDKs (compat) -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <script>
    // Firebase config (paste provided config)
    window.__FIREBASE_CONFIG = {
      apiKey: "AIzaSyA-nYSfnkRlBOwl7WmybRrIqzI2PcyWcuA",
      authDomain: "catch-your-mess.firebaseapp.com",
      projectId: "catch-your-mess",
      storageBucket: "catch-your-mess.firebasestorage.app",
      messagingSenderId: "24231287880",
      appId: "1:24231287880:web:5d8bb1bf0a2ed234fd4c7d",
      measurementId: "G-PKF6K9BKWN"
    };
  </script>

  <script src="scripts/script.js"></script>
</body>
</html>

